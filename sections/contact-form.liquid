{% form 'contact', class: 'contact-form', id: 'ContactForm', aria-busy: 'false' %}
  {% if section.settings.form_title != blank %}
    <h2 class="contact-form__title">{{ section.settings.form_title }}</h2>
  {% endif %}

  {% if form.errors %}
    <div class="form-errors" role="alert" aria-live="assertive">
      {{ form.errors | default_errors }}
    </div>
  {% endif %}

  {% if form.posted_successfully? %}
    <p class="form-success" role="status" aria-live="polite">
      {{ 'contact.form.success' | t }}
    </p>
  {% endif %}

  <div class="form-group">
    <label for="ContactName">{{ 'contact.form.name' | t }}</label>
    <input
      id="ContactName"
      name="contact[name]"
      type="text"
      autocomplete="name"
      aria-invalid="{{ form.errors.name | default: false }}"
      aria-describedby="ErrorName"
    >
  </div>

  <div class="form-group">
    <label for="ContactEmail">{{ 'contact.form.email' | t }}</label>
    <input
      id="ContactEmail"
      name="contact[email]"
      type="email"
      required
      autocomplete="email"
      aria-invalid="{{ form.errors.email | default: false }}"
      aria-describedby="ErrorEmail"
    >
  </div>

  <div class="form-group">
    <label for="ContactPhone">{{ 'contact.form.phone' | t }}</label>
    <input
      id="ContactPhone"
      name="contact[phone]"
      type="tel"
      autocomplete="tel"
    >
  </div>

  <div class="form-group">
    <label for="ContactMessage">{{ 'contact.form.message' | t }}</label>
    <textarea
      id="ContactMessage"
      name="contact[body]"
      required
      aria-invalid="{{ form.errors.body | default: false }}"
      aria-describedby="ErrorMessage"
    ></textarea>
  </div>

  <div style="display:none;">
    <label for="ContactHP">Do not fill this field</label>
    <input type="text" name="contact[honeypot]" id="ContactHP">
  </div>

  <button
    type="submit"
    class="btn"
    aria-disabled="false"
  >
    {{ 'contact.form.submit' | t }}
  </button>
{% endform %}

{% schema %}
{
  "name": "Contact form",
  "settings": [
    {
      "type": "text",
      "id": "form_title",
      "label": "Form title",
      "default": "Contact us"
    }
  ],
  "presets": [
    {
      "name": "Contact form"
    }
  ]
}
{% endschema %}

{% style %}
  .contact-form {
    max-width: 500px;
    margin: 40px auto;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    font-family: inherit;
  }

  .contact-form__title {
    font-size: 1.75rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 1rem;
  }

  .contact-form label {
    font-weight: 600;
    margin-bottom: 0.3rem;
    display: block;
  }

  .contact-form input,
  .contact-form textarea {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
  }

  .contact-form textarea {
    min-height: 120px;
    resize: vertical;
  }

  .contact-form button {
    background-color: #000;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 0.75rem;
    cursor: pointer;
    font-weight: 600;
    transition: opacity 0.2s ease-in-out;
  }

  .contact-form button:hover {
    opacity: 0.85;
  }

  .contact-form button:disabled,
  .contact-form button[aria-disabled='true'] {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .form-errors {
    background-color: #ffecec;
    color: #c00;
    padding: 0.75rem;
    border-radius: 4px;
  }

  .form-success {
    background-color: #e6f9ec;
    color: #2a7a3b;
    padding: 0.75rem;
    border-radius: 4px;
  }
{% endstyle %}
